---
layout:     post
title:      "红黑树"
subtitle:   "一种二叉平衡树的变形"
date:       2017-03-29 15:53:00
author:     "AJW"
header-img: "img/tech.jpg"
tags:
    - 数据结构
    - 树
---

红黑树是一种特殊的二叉查找树，它在二叉查找树的基础上，在每个节点增加了一个表示颜色（红和黑）的量，使得其可以基本保持平衡，但又不需要像平衡二叉查找树那样在平衡操作上花费很多时间。

## 前置知识

### 二叉查找树

二叉查找树（Binary Search Tree, BST）是一种特殊的二叉树，它保证任意节点的左子树的值均小于它的根节点的值，而右子树的值大于根节点的值。理想情况下，BST的树高是$$\log N$$，因此其查找和插入的复杂度基本为$$O(\log N)$$，而删除节点的操作需要将被删除节点与其左子树中的最大值或者右子树中的最小值互换，这一过程的复杂度也不会超过$$O(\log N)$$。

但是，在极端情况下，即建树的过程中，数据是按大小顺序排列好的，BST就会退化为一个单向链表，其查找和插入的平均复杂度在$$O(N)$$数量级上。

### 二叉平衡查找树

二叉查找树在树两端极度不平衡的情况下，性能会变得比较差，所以二叉平衡查找树（AVL Tree）就诞生了。AVL 树通过旋转操作，保证了在建树的过程中树的左右子树高度相差不超过1（平衡因子不超过1）。

因此，AVL树的查找复杂度为$$O(\log N)$$，插入的时候也只需要在不平衡的时候做一次单旋或者双旋操作，所以插入的复杂度也在$$O(\log N)$$数量级。而删除节点需要检查从被删除的节点到根节点路径上所有节点的平衡因子，需要的旋转操作的次数最多可能有$$\log N$$次，所以删除的代价稍微大一些，大约为$$O(2\log N)$$。